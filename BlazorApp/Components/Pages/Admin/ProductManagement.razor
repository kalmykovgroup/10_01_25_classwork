@using _26_01_25.Components.Pages.Admin.Components.Dialogs
@using _26_01_25.Constants
@using _26_01_25.DTOs 
@rendermode InteractiveServer 
 

<MudPaper Elevation="1" Class="pa-4">
    <MudGrid>
        <MudItem xs="12">
            <MudText Typo="Typo.h5">Список товаров</MudText>
        </MudItem>
        <MudItem xs="12">
            <MudTable Items="products" Hover="true" Bordered="true" Striped="true">
                <ToolBarContent>
                    <MudText Typo="Typo.h6">Товары</MudText>
                    <MudSpacer />
                    <MudButton Variant="Variant.Filled" Color="Color.Primary" StartIcon="@Icons.Material.Filled.Add" OnClick="CreateProduct">Добавить товар</MudButton>
                </ToolBarContent>
                <HeaderContent>
                    <MudTh>Название</MudTh>
                    <MudTh>Цена</MudTh>
                    <MudTh>Категория</MudTh>
                    <MudTh>Поставщик</MudTh>
                    <MudTh>Действия</MudTh>
                </HeaderContent>
                <RowTemplate>
                    <MudTd DataLabel="Название">@context.Name</MudTd>
                    <MudTd DataLabel="Цена">@context.Price.ToString("C")</MudTd>
                    <MudTd DataLabel="Категория">@(context.Category != null ? context.Category.DefaultName : "Ошибка!")</MudTd>
                    <MudTd DataLabel="Поставщик">@(context.Supplier != null ? context.Supplier.Name : "Ошибка!")</MudTd>
                    <MudTd DataLabel="Действия">
                        <MudIconButton Icon="@Icons.Material.Filled.Edit" Color="Color.Primary" OnClick="() => UpdateProduct(context)" />
                        <MudIconButton Icon="@Icons.Material.Filled.Delete" Color="Color.Error" OnClick="() => DeleteProduct(context.Id)" />
                    </MudTd>
                </RowTemplate>
            </MudTable>
        </MudItem>
    </MudGrid>


 
</MudPaper>

 


 